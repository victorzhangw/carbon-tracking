<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI èªéŸ³äº’å‹•å¹³å°</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI",
          "Microsoft JhengHei", sans-serif;
        background: #f8f9fa;
        color: #212529;
        line-height: 1.5;
      }

      /* å°èˆªæ¬„ */
      .navbar {
        background: white;
        border-bottom: 1px solid #dee2e6;
        padding: 0 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        height: 60px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
      }

      .nav-brand {
        font-size: 18px;
        font-weight: 600;
        color: #212529;
      }

      .nav-links {
        display: flex;
        gap: 8px;
      }

      .nav-link {
        padding: 8px 16px;
        color: #6c757d;
        text-decoration: none;
        border-radius: 4px;
        font-size: 14px;
        transition: all 0.2s;
      }

      .nav-link:hover {
        background: #f8f9fa;
        color: #212529;
      }

      .nav-link.active {
        background: #e7f1ff;
        color: #0d6efd;
        font-weight: 500;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 20px;
      }

      /* é ‚éƒ¨å·¥å…·æ¬„ */
      .toolbar {
        background: white;
        padding: 16px 20px;
        border-radius: 4px;
        margin-bottom: 20px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
      }

      .toolbar h1 {
        font-size: 20px;
        font-weight: 600;
        color: #212529;
        margin-bottom: 4px;
      }

      .toolbar p {
        font-size: 14px;
        color: #6c757d;
      }

      /* å°èˆªæ¨™ç±¤ */
      .nav-tabs {
        background: white;
        padding: 12px 20px;
        border-radius: 4px;
        margin-bottom: 20px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
        display: flex;
        gap: 8px;
      }

      .nav-tab {
        padding: 8px 16px;
        border: 1px solid #dee2e6;
        background: white;
        color: #495057;
        border-radius: 4px;
        font-size: 14px;
        cursor: pointer;
        transition: all 0.2s;
      }

      .nav-tab:hover {
        background: #f8f9fa;
      }

      .nav-tab.active {
        background: #0d6efd;
        color: white;
        border-color: #0d6efd;
      }

      /* å…§å®¹å€ */
      .tab-content {
        display: none;
      }

      .tab-content.active {
        display: block;
      }

      /* å¡ç‰‡ */
      .card {
        background: white;
        padding: 20px;
        border-radius: 4px;
        margin-bottom: 20px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
      }

      .card-title {
        font-size: 16px;
        font-weight: 600;
        margin-bottom: 16px;
        padding-bottom: 12px;
        border-bottom: 1px solid #f1f3f5;
      }

      /* æŒ‰éˆ• */
      .btn {
        padding: 8px 16px;
        border: 1px solid #dee2e6;
        background: white;
        color: #495057;
        border-radius: 4px;
        font-size: 14px;
        cursor: pointer;
        transition: all 0.2s;
        text-decoration: none;
        display: inline-block;
        margin-right: 8px;
        margin-bottom: 8px;
      }

      .btn:hover {
        background: #f8f9fa;
        border-color: #adb5bd;
      }

      .btn-primary {
        background: #0d6efd;
        color: white;
        border-color: #0d6efd;
      }

      .btn-primary:hover {
        background: #0b5ed7;
        border-color: #0a58ca;
      }

      .btn-success {
        background: #28a745;
        color: white;
        border-color: #28a745;
      }

      .btn-success:hover {
        background: #218838;
        border-color: #1e7e34;
      }

      .btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      /* è¼¸å…¥æ¡† */
      .form-group {
        margin-bottom: 16px;
      }

      .form-group label {
        display: block;
        margin-bottom: 6px;
        font-size: 14px;
        font-weight: 500;
        color: #495057;
      }

      .form-control {
        width: 100%;
        padding: 8px 12px;
        border: 1px solid #ced4da;
        border-radius: 4px;
        font-size: 14px;
      }

      .form-control:focus {
        outline: none;
        border-color: #0d6efd;
        box-shadow: 0 0 0 3px rgba(13, 110, 253, 0.1);
      }

      /* çµæœé¡¯ç¤º */
      .result-box {
        padding: 12px;
        background: #f8f9fa;
        border-radius: 4px;
        margin-bottom: 12px;
        font-size: 14px;
      }

      .result-label {
        font-weight: 600;
        color: #495057;
        margin-bottom: 4px;
      }

      .result-value {
        color: #212529;
      }

      /* æ³¢å½¢å®¹å™¨ */
      .waveform-container {
        width: 100%;
        height: 120px;
        background: #f8f9fa;
        border-radius: 4px;
        margin: 16px 0;
        overflow: hidden;
      }

      canvas {
        width: 100%;
        height: 100%;
      }

      /* éŸ³é »æ’­æ”¾å™¨ */
      .audio-player {
        margin-top: 16px;
      }

      audio {
        width: 100%;
        height: 40px;
      }

      /* ç‹€æ…‹æç¤º */
      .status-message {
        padding: 12px;
        border-radius: 4px;
        margin-top: 16px;
        font-size: 14px;
      }

      .status-info {
        background: #cfe2ff;
        color: #084298;
      }

      .status-success {
        background: #d1e7dd;
        color: #0f5132;
      }

      .status-error {
        background: #f8d7da;
        color: #842029;
      }

      /* åŠŸèƒ½ç¶²æ ¼ */
      .feature-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
      }

      .feature-card {
        background: white;
        padding: 20px;
        border-radius: 4px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
      }

      .feature-card h3 {
        font-size: 16px;
        font-weight: 600;
        margin-bottom: 12px;
        color: #212529;
      }

      .feature-card p {
        font-size: 14px;
        color: #6c757d;
        margin-bottom: 16px;
      }

      .feature-list {
        list-style: none;
        padding: 0;
      }

      .feature-list li {
        padding: 6px 0;
        font-size: 14px;
        color: #495057;
        border-bottom: 1px solid #f1f3f5;
      }

      .feature-list li:last-child {
        border-bottom: none;
      }

      /* ç¯„ä¾‹æ–‡å­— */
      .example-text {
        background: #f8f9fa;
        padding: 16px;
        border-radius: 4px;
        border-left: 3px solid #0d6efd;
        margin-bottom: 16px;
      }

      .example-text h4 {
        font-size: 14px;
        font-weight: 600;
        margin-bottom: 8px;
        color: #495057;
      }

      .example-text p {
        font-size: 14px;
        color: #212529;
        line-height: 1.6;
      }
    </style>
  </head>
  <body>
    <!-- å°èˆªæ¬„ -->
    <div class="navbar">
      <div class="nav-brand">ğŸ¤ èªéŸ³äº’å‹•å¹³å°</div>
      <div class="nav-links">
        <a href="/" class="nav-link active">é¦–é </a>
        <a href="/portal" class="nav-link">è¿”å›é¦–é </a>
      </div>
    </div>

    <div class="container">
      <!-- é ‚éƒ¨å·¥å…·æ¬„ -->
      <div class="toolbar">
        <h1>AI èªéŸ³äº’å‹•å¹³å°</h1>
        <p>æ™ºèƒ½èªéŸ³åˆ†æèˆ‡äº’å‹•ç³»çµ±</p>
      </div>

      <!-- å°èˆªæ¨™ç±¤ -->
      <div class="nav-tabs">
        <button class="nav-tab active" onclick="switchTab('analysis')">
          èªéŸ³åˆ†æ
        </button>
        <button class="nav-tab" onclick="switchTab('interaction')">
          èªéŸ³äº’å‹•
        </button>
        <button class="nav-tab" onclick="switchTab('simulation')">
          è²éŸ³æ¨¡æ“¬
        </button>
        <button class="nav-tab" onclick="switchTab('care')">å®šæœŸé—œæ‡·</button>
      </div>

      <!-- èªéŸ³åˆ†æ -->
      <div id="analysis-content" class="tab-content active">
        <div class="card">
          <div class="card-title">AI èªéŸ³åˆ†æç³»çµ±</div>
          <p style="margin-bottom: 16px; color: #6c757d; font-size: 14px">
            ä½¿ç”¨æ‚¨çš„è²éŸ³é€²è¡Œå³æ™‚åˆ†æï¼Œç²å–æƒ…ç·’è©•ä¼°å’Œæ™ºèƒ½å›æ‡‰
          </p>

          <div>
            <button id="startRecord" class="btn btn-primary">é–‹å§‹éŒ„éŸ³</button>
            <button id="stopRecord" class="btn btn-success" disabled>
              åœæ­¢éŒ„éŸ³
            </button>
          </div>

          <div class="waveform-container">
            <canvas id="waveform-analysis"></canvas>
          </div>

          <div
            class="audio-player"
            id="audio-player-container"
            style="display: none"
          >
            <audio id="audio-player" controls></audio>
          </div>

          <div class="result-box">
            <div class="result-label">èªéŸ³è½‰æ–‡å­—</div>
            <div class="result-value" id="transcript">æš«ç„¡è³‡æ–™</div>
          </div>

          <div class="result-box">
            <div class="result-label">æƒ…ç·’åˆ†æ</div>
            <div class="result-value" id="sentiment">æš«ç„¡è³‡æ–™</div>
          </div>

          <div class="result-box">
            <div class="result-label">AI å›æ‡‰</div>
            <div class="result-value" id="response">æš«ç„¡è³‡æ–™</div>
          </div>
        </div>
      </div>

      <!-- èªéŸ³äº’å‹• -->
      <div id="interaction-content" class="tab-content">
        <div class="feature-grid">
          <div class="feature-card">
            <h3>èªéŸ³äº’å‹•ï¼ˆå¢å¼·ç‰ˆï¼‰</h3>
            <p>æ‰‹å‹•æ§åˆ¶éŒ„éŸ³ï¼Œåˆ†æ­¥é©Ÿè™•ç†ï¼Œé©åˆå­¸ç¿’ä½¿ç”¨</p>
            <ul class="feature-list">
              <li>æ‰‹å‹•æ§åˆ¶éŒ„éŸ³</li>
              <li>åˆ†æ­¥é©Ÿè™•ç†</li>
              <li>è©³ç´°ç‹€æ…‹é¡¯ç¤º</li>
            </ul>
            <a
              href="/voice_interaction"
              class="btn btn-primary"
              style="margin-top: 16px"
              >é€²å…¥ç³»çµ±</a
            >
          </div>

          <div class="feature-card">
            <h3>èªéŸ³äº’å‹•ï¼ˆå³æ™‚ç‰ˆï¼‰</h3>
            <p>ä¸€éµéŒ„éŸ³ï¼Œè‡ªå‹•æ–·å¥åˆ†æï¼Œæµæš¢å°è©±é«”é©—</p>
            <ul class="feature-list">
              <li>ä¸€éµéŒ„éŸ³</li>
              <li>è‡ªå‹•æ–·å¥åˆ†æ</li>
              <li>å³æ™‚å›è¦†</li>
            </ul>
            <a
              href="/voice_interaction_realtime"
              class="btn btn-success"
              style="margin-top: 16px"
              >é€²å…¥ç³»çµ±</a
            >
          </div>

          <div class="feature-card">
            <h3>èªéŸ³å…‹éš†æ¼”ç¤º</h3>
            <p>å€‹äººåŒ–èªéŸ³ï¼Œè²éŸ³æ¨¡å‹è¨“ç·´ï¼Œå°ˆæ¥­æ‡‰ç”¨</p>
            <ul class="feature-list">
              <li>å€‹äººåŒ–èªéŸ³</li>
              <li>è²éŸ³æ¨¡å‹è¨“ç·´</li>
              <li>é«˜å“è³ªåˆæˆ</li>
            </ul>
            <a
              href="/voice_clone/demo"
              class="btn btn-primary"
              style="margin-top: 16px"
              >é€²å…¥ç³»çµ±</a
            >
          </div>
        </div>
      </div>

      <!-- è²éŸ³æ¨¡æ“¬ -->
      <div id="simulation-content" class="tab-content">
        <div class="card">
          <div class="card-title">æœå‹™è²éŸ³æ¨¡æ“¬</div>
          <p style="margin-bottom: 16px; color: #6c757d; font-size: 14px">
            éŒ„è£½æ¨™æº–åŒ–æœå‹™è²éŸ³æ¨£æœ¬ï¼Œå”åŠ©æå‡å®¢æˆ¶æœå‹™å“è³ª
          </p>

          <div class="example-text">
            <h4>ç¯„ä¾‹æ–‡å­—</h4>
            <p>
              æœ‰çœ‹éåœ“å½¢çš„è‡­è±†è…å—ï¼Œæœ‰ä¸€é–“ç´ é£Ÿå°åƒåº—æ¥­è€…ï¼Œç‚ºäº†åšå‡ºè·Ÿä¸€èˆ¬è‡­è±†è…ä¸ä¸€æ¨£çš„å‘³é“ï¼Œç™¼æ®å‰µæ„ç ”ç™¼æ˜¥æ²è‡­è±†è…ï¼Œç”¨è±†çš®ç•¶å¤–çš®åŒ…é€²è‡­è±†è…æ¸£ï¼ŒåŠ å…¥æåŒ…è‡ç­‰é£Ÿæï¼Œç¨ç‰¹çš„å¤–å‹ã€å£å‘³å¸å¼•è¨±å¤šé¡§å®¢ä¸Šé–€ã€‚
            </p>
          </div>

          <div class="form-group">
            <label>äººå“¡ä»£è™Ÿ</label>
            <input
              type="text"
              id="personnelCode"
              class="form-control"
              placeholder="è«‹è¼¸å…¥æ‚¨çš„äººå“¡ä»£è™Ÿ"
            />
          </div>

          <button id="startSimulation" class="btn btn-primary">
            é–‹å§‹éŒ„éŸ³ï¼ˆ15ç§’ï¼‰
          </button>

          <div id="simulationStatus" style="display: none"></div>

          <div class="waveform-container">
            <canvas id="waveform-simulation"></canvas>
          </div>
        </div>
      </div>

      <!-- å®šæœŸé—œæ‡· -->
      <div id="care-content" class="tab-content">
        <div class="feature-grid">
          <div class="feature-card">
            <h3>æ’ç¨‹ç®¡ç†</h3>
            <p>ç®¡ç†å®šæœŸé—œæ‡·æ’ç¨‹ï¼Œæ”¯æ´åœ‹èªå’Œé–©å—èªé›™èªæœå‹™</p>
            <ul class="feature-list">
              <li>å‰µå»ºé—œæ‡·æ’ç¨‹</li>
              <li>é›™èªèªéŸ³åˆæˆ</li>
              <li>è‡ªå‹•åŸ·è¡Œé—œæ‡·</li>
            </ul>
            <a
              href="/api/voice-care/schedules-page"
              class="btn btn-primary"
              style="margin-top: 16px"
              >æ’ç¨‹ç®¡ç†</a
            >
          </div>

          <div class="feature-card">
            <h3>çµ±è¨ˆå„€è¡¨æ¿</h3>
            <p>æŸ¥çœ‹é—œæ‡·æœå‹™åŸ·è¡Œçµ±è¨ˆï¼Œåˆ†ææœå‹™æ•ˆæœ</p>
            <ul class="feature-list">
              <li>é—œæ‡·æ¬¡æ•¸çµ±è¨ˆ</li>
              <li>æ¥è½ç‡åˆ†æ</li>
              <li>æ»¿æ„åº¦è©•ä¼°</li>
            </ul>
            <a
              href="/api/voice-care/dashboard"
              class="btn btn-primary"
              style="margin-top: 16px"
              >çµ±è¨ˆå„€è¡¨æ¿</a
            >
          </div>

          <div class="feature-card">
            <h3>åŠŸèƒ½æ¸¬è©¦</h3>
            <p>æ¸¬è©¦ AI è¨Šæ¯ç”Ÿæˆå’ŒèªéŸ³åˆæˆåŠŸèƒ½</p>
            <ul class="feature-list">
              <li>è¨Šæ¯ç”Ÿæˆæ¸¬è©¦</li>
              <li>èªéŸ³åˆæˆæ¸¬è©¦</li>
              <li>å®Œæ•´æµç¨‹æ¸¬è©¦</li>
            </ul>
            <a
              href="/api/voice-care/test"
              class="btn btn-primary"
              style="margin-top: 16px"
              >åŠŸèƒ½æ¸¬è©¦</a
            >
          </div>
        </div>
      </div>
    </div>

    <script src="/static/js/voice_analysis.js"></script>
    <script>
      // æ¨™ç±¤åˆ‡æ›
      function switchTab(tabName) {
        // ç§»é™¤æ‰€æœ‰ active
        document
          .querySelectorAll(".nav-tab")
          .forEach((tab) => tab.classList.remove("active"));
        document
          .querySelectorAll(".tab-content")
          .forEach((content) => content.classList.remove("active"));

        // æ·»åŠ  active
        event.target.classList.add("active");
        document.getElementById(tabName + "-content").classList.add("active");
      }
    </script>
  </body>
</html>
