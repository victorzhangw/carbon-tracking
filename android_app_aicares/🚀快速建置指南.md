# 🚀 AI 客服系統 Android APP - 快速建置指南

## 📋 前置需求

1. ✅ 已安裝 Android Studio
2. ✅ 已安裝 JDK 8 或更高版本
3. ✅ 後端伺服器正在運行（http://192.168.1.102:5000）

## 🎯 3 步驟建置 APK

### 方法 1：使用 Android Studio（推薦）

1. **開啟專案**

   - 啟動 Android Studio
   - 選擇 "Open"
   - 選擇 `android_app_aicares` 資料夾

2. **等待同步完成**

   - Gradle 會自動同步（首次需要幾分鐘）
   - 等待底部狀態列顯示 "Gradle sync finished"

3. **建置 APK**
   - 點擊選單：`Build` → `Build Bundle(s) / APK(s)` → `Build APK(s)`
   - 等待建置完成
   - 點擊通知中的 "locate" 找到 APK

**APK 位置：**

```
android_app_aicares/app/build/outputs/apk/debug/app-debug.apk
```

### 方法 2：使用命令列

```bash
cd android_app_aicares
gradlew assembleDebug
```

## 📱 安裝到手機

### 方法 A：USB 連接

1. 手機開啟「開發者選項」和「USB 偵錯」
2. 用 USB 線連接電腦
3. 在 Android Studio 點擊 ▶️ Run 按鈕

### 方法 B：直接安裝 APK

1. 將 APK 傳到手機
2. 在手機上點擊 APK 檔案
3. 允許「安裝未知來源」
4. 點擊「安裝」

## 🔧 修改伺服器地址

如果需要修改連接的伺服器地址，編輯：

**檔案：** `app/src/main/java/com/aicares/app/MainActivity.kt`

```kotlin
// 第 23 行左右
private val SERVER_URL = "http://192.168.1.102:5000/"
```

改成你的伺服器地址，例如：

- 本地：`http://192.168.1.102:5000/`
- 雲端：`https://your-domain.com/`

## ✅ 測試清單

- [ ] APP 能正常啟動
- [ ] 能連接到伺服器
- [ ] 能看到主頁面
- [ ] 語音功能正常（需要麥克風權限）
- [ ] 下拉可以重新整理
- [ ] 返回鍵可以回到上一頁

## 🐛 常見問題

### 問題 1：Gradle 同步失敗

**解決方法：**

- 檢查網路連線
- 在 Android Studio 中：`File` → `Invalidate Caches / Restart`

### 問題 2：無法連接伺服器

**解決方法：**

- 確認伺服器正在運行
- 確認手機和電腦在同一個 WiFi 網路
- 檢查防火牆設定

### 問題 3：APP 閃退

**解決方法：**

- 在 Android Studio 查看 Logcat
- 確認 Android 版本 ≥ 7.0 (API 24)

## 📦 生成正式版 APK

1. 在 Android Studio 中：`Build` → `Generate Signed Bundle / APK`
2. 選擇 `APK`
3. 創建或選擇 Keystore
4. 選擇 `release` 建置類型
5. 點擊 `Finish`

## 🎉 完成！

現在你有一個完整的 AI 客服系統 Android APP，包含：

- ✅ 語音識別 (ASR)
- ✅ 語音合成 (TTS)
- ✅ 語音克隆
- ✅ 情緒識別
- ✅ 員工管理
- ✅ 碳排放追蹤
- ✅ 所有系統功能
