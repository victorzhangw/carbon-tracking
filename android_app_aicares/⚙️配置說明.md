# âš™ï¸ AI å®¢æœç³»çµ± Android APP - é…ç½®èªªæ˜

## ğŸ“± æ‡‰ç”¨ç¨‹å¼è³‡è¨Š

- **æ‡‰ç”¨ç¨‹å¼åç¨±ï¼š** AI å®¢æœç³»çµ±
- **å¥—ä»¶åç¨±ï¼š** com.aicares.app
- **ç‰ˆæœ¬ï¼š** 1.0 (versionCode: 1)
- **æœ€ä½ Android ç‰ˆæœ¬ï¼š** 7.0 (API 24)
- **ç›®æ¨™ Android ç‰ˆæœ¬ï¼š** 14 (API 34)

## ğŸŒ ä¼ºæœå™¨é…ç½®

### ç•¶å‰é…ç½®

**æª”æ¡ˆä½ç½®ï¼š** `app/src/main/java/com/aicares/app/MainActivity.kt`

```kotlin
// æœ¬åœ°é–‹ç™¼ç’°å¢ƒï¼ˆç•¶å‰ä½¿ç”¨ï¼‰
private val SERVER_URL = "http://192.168.1.102:5000/"

// ç”Ÿç”¢ç’°å¢ƒï¼ˆéƒ¨ç½²å¾Œä½¿ç”¨ï¼‰
// private val SERVER_URL = "https://your-domain.com/"
```

### åˆ‡æ›ç’°å¢ƒ

1. **é–‹ç™¼ç’°å¢ƒ â†’ ç”Ÿç”¢ç’°å¢ƒ**

   ```kotlin
   // è¨»è§£æ‰é–‹ç™¼ç’°å¢ƒ
   // private val SERVER_URL = "http://192.168.1.102:5000/"

   // å–æ¶ˆè¨»è§£ç”Ÿç”¢ç’°å¢ƒ
   private val SERVER_URL = "https://your-domain.com/"
   ```

2. **é‡æ–°å»ºç½® APK**

## ğŸ” æ¬Šé™èªªæ˜

### å¿…è¦æ¬Šé™

```xml
<!-- ç¶²è·¯é€£ç·š -->
<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />

<!-- èªéŸ³åŠŸèƒ½ -->
<uses-permission android:name="android.permission.RECORD_AUDIO" />
<uses-permission android:name="android.permission.MODIFY_AUDIO_SETTINGS" />

<!-- æª”æ¡ˆå­˜å–ï¼ˆAndroid 12 ä»¥ä¸‹ï¼‰ -->
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"
    android:maxSdkVersion="32" />
<uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE"
    android:maxSdkVersion="32" />
```

### æ¬Šé™ç”¨é€”

| æ¬Šé™                        | ç”¨é€”           | å¿…è¦æ€§       |
| --------------------------- | -------------- | ------------ |
| INTERNET                    | é€£æ¥å¾Œç«¯ä¼ºæœå™¨ | å¿…è¦         |
| ACCESS_NETWORK_STATE        | æª¢æŸ¥ç¶²è·¯ç‹€æ…‹   | å¿…è¦         |
| RECORD_AUDIO                | èªéŸ³è¼¸å…¥åŠŸèƒ½   | èªéŸ³åŠŸèƒ½å¿…è¦ |
| MODIFY_AUDIO_SETTINGS       | èª¿æ•´éŸ³è¨Šè¨­å®š   | èªéŸ³åŠŸèƒ½å¿…è¦ |
| WRITE/READ_EXTERNAL_STORAGE | å¿«å–éŸ³è¨Šæª”æ¡ˆ   | é¸ç”¨         |

## ğŸ¨ è‡ªè¨‚å¤–è§€

### ä¿®æ”¹æ‡‰ç”¨ç¨‹å¼åç¨±

**æª”æ¡ˆï¼š** `app/src/main/res/values/strings.xml`

```xml
<string name="app_name">AIå®¢æœç³»çµ±</string>
<string name="app_slogan">æ™ºèƒ½èªéŸ³ Â· è²¼å¿ƒæœå‹™</string>
```

### ä¿®æ”¹ä¸»é¡Œé¡è‰²

**æª”æ¡ˆï¼š** `app/src/main/res/values/colors.xml`

```xml
<color name="primary">#667eea</color>        <!-- ä¸»è‰² -->
<color name="primary_dark">#764ba2</color>   <!-- æ·±è‰²ä¸»è‰² -->
<color name="accent">#f093fb</color>         <!-- å¼·èª¿è‰² -->
```

### æ›´æ›æ‡‰ç”¨ç¨‹å¼åœ–ç¤º

1. æº–å‚™åœ–ç¤ºæª”æ¡ˆï¼ˆå»ºè­° 512x512 PNGï¼‰
2. ä½¿ç”¨ Android Studio çš„ Image Asset å·¥å…·ï¼š
   - å³éµé»æ“Š `app` â†’ `New` â†’ `Image Asset`
   - é¸æ“‡åœ–ç¤ºæª”æ¡ˆ
   - ç”Ÿæˆå„ç¨®å°ºå¯¸çš„åœ–ç¤º

## ğŸ”§ WebView é…ç½®

### ç•¶å‰è¨­å®š

```kotlin
// JavaScript æ”¯æ´
webSettings.javaScriptEnabled = true

// å„²å­˜æ”¯æ´
webSettings.domStorageEnabled = true
webSettings.databaseEnabled = true

// åª’é«”æ’­æ”¾
webSettings.mediaPlaybackRequiresUserGesture = false

// æ··åˆå…§å®¹ï¼ˆHTTP + HTTPSï¼‰
webSettings.mixedContentMode = WebSettings.MIXED_CONTENT_ALWAYS_ALLOW
```

### å®‰å…¨æ€§è¨­å®š

å¦‚æœåªä½¿ç”¨ HTTPSï¼Œå¯ä»¥æ”¹ç‚ºï¼š

```kotlin
webSettings.mixedContentMode = WebSettings.MIXED_CONTENT_NEVER_ALLOW
```

## ğŸ“¦ å»ºç½®è®Šé«”

### Debug ç‰ˆæœ¬ï¼ˆé–‹ç™¼ç”¨ï¼‰

```bash
gradlew assembleDebug
```

ç‰¹é»ï¼š

- å¯ä»¥ç›´æ¥å®‰è£
- åŒ…å«é™¤éŒ¯è³‡è¨Š
- æª”æ¡ˆè¼ƒå¤§

### Release ç‰ˆæœ¬ï¼ˆæ­£å¼ç™¼å¸ƒï¼‰

```bash
gradlew assembleRelease
```

ç‰¹é»ï¼š

- éœ€è¦ç°½å
- ç¨‹å¼ç¢¼æ··æ·†
- æª”æ¡ˆè¼ƒå°
- æ•ˆèƒ½è¼ƒå¥½

## ğŸš€ æ•ˆèƒ½å„ªåŒ–

### å•Ÿç”¨ ProGuardï¼ˆç¨‹å¼ç¢¼æ··æ·†ï¼‰

**æª”æ¡ˆï¼š** `app/build.gradle`

```gradle
buildTypes {
    release {
        minifyEnabled true  // æ”¹ç‚º true
        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
    }
}
```

### WebView å¿«å–ç­–ç•¥

```kotlin
// å„ªå…ˆä½¿ç”¨å¿«å–
webSettings.cacheMode = WebSettings.LOAD_CACHE_ELSE_NETWORK

// ä¸ä½¿ç”¨å¿«å–ï¼ˆé–‹ç™¼æ™‚ï¼‰
webSettings.cacheMode = WebSettings.LOAD_NO_CACHE
```

## ğŸŒ å¤šèªè¨€æ”¯æ´

### æ–°å¢è‹±æ–‡ç‰ˆæœ¬

1. å‰µå»º `values-en/strings.xml`ï¼š

```xml
<resources>
    <string name="app_name">AI Customer Service</string>
    <string name="app_slogan">Smart Voice Â· Caring Service</string>
</resources>
```

2. APP æœƒæ ¹æ“šç³»çµ±èªè¨€è‡ªå‹•åˆ‡æ›

## ğŸ“Š ç‰ˆæœ¬ç®¡ç†

### æ›´æ–°ç‰ˆæœ¬è™Ÿ

**æª”æ¡ˆï¼š** `app/build.gradle`

```gradle
defaultConfig {
    versionCode 2        // æ¯æ¬¡ç™¼å¸ƒ +1
    versionName "1.1"    // é¡¯ç¤ºçµ¦ä½¿ç”¨è€…çš„ç‰ˆæœ¬
}
```

ç‰ˆæœ¬å‘½åå»ºè­°ï¼š

- 1.0 - é¦–æ¬¡ç™¼å¸ƒ
- 1.1 - å°æ›´æ–°
- 2.0 - å¤§æ”¹ç‰ˆ

## ğŸ” é™¤éŒ¯æ¨¡å¼

### å•Ÿç”¨ WebView é™¤éŒ¯

```kotlin
WebView.setWebContentsDebuggingEnabled(true)
```

ç„¶å¾Œåœ¨ Chrome ç€è¦½å™¨è¼¸å…¥ï¼š

```
chrome://inspect/#devices
```

å¯ä»¥æª¢æŸ¥ WebView çš„å…§å®¹å’Œ Console è¨Šæ¯ã€‚

## ğŸ“ æ³¨æ„äº‹é …

1. **ç¶²è·¯å®‰å…¨é…ç½®**

   - ç”Ÿç”¢ç’°å¢ƒå»ºè­°ä½¿ç”¨ HTTPS
   - æœ¬åœ°é–‹ç™¼éœ€è¦ `android:usesCleartextTraffic="true"`

2. **æ¬Šé™è«‹æ±‚**

   - Android 6.0+ éœ€è¦å‹•æ…‹è«‹æ±‚å±éšªæ¬Šé™
   - å·²åœ¨ MainActivity ä¸­å¯¦ä½œ

3. **è¨˜æ†¶é«”ç®¡ç†**

   - WebView åœ¨ onDestroy æ™‚æœƒè¢«æ¸…ç†
   - é¿å…è¨˜æ†¶é«”æ´©æ¼

4. **ç›¸å®¹æ€§**
   - æ”¯æ´ Android 7.0 (API 24) ä»¥ä¸Š
   - æ¶µè“‹ 95%+ çš„ Android è¨­å‚™
